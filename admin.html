<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¿è¥ç®¡ç†åå° - PINYU CLUB</title>
    <link rel="stylesheet" href="app.css">
    <style>
        /* ç§»åŠ¨ç«¯é€‚é… */
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: #f5f5f5;
            min-height: 100vh;
        }
        
        /* å®¹å™¨æ ·å¼ */
        .page-container {
            max-width: 414px;
            margin: 0 auto;
            min-height: 100vh;
            background: #fff;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        
        /* å¤´éƒ¨å¯¼èˆª */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 16px 16px;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .header-title {
            font-size: 20px;
            font-weight: 600;
        }
        
        .back-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .back-btn:hover {
            background: rgba(255,255,255,0.3);
        }
        
        /* ä¸»è¦å†…å®¹åŒºåŸŸ */
        .main-content {
            padding: 20px 16px;
        }
        
        /* åŠŸèƒ½å¡ç‰‡ */
        .feature-card {
            background: #fff;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
            border: 1px solid #f0f0f0;
        }
        
        .card-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .card-icon {
            font-size: 20px;
        }
        
        .card-description {
            color: #666;
            font-size: 14px;
            margin-bottom: 16px;
            line-height: 1.5;
        }
        
        /* è½®æ’­ç®¡ç†åŒºåŸŸ */
        .carousel-management {
            border: 2px dashed #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            background: #fafafa;
        }
        
        .upload-area {
            margin-bottom: 20px;
        }
        
        .upload-buttons {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-bottom: 16px;
        }
        
        .upload-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s ease;
        }
        
        .upload-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }
        
        .upload-btn:active {
            transform: translateY(0);
        }
        
        .file-input {
            display: none;
        }
        
        /* å½“å‰è½®æ’­å›¾ç‰‡å±•ç¤º */
        .current-carousel {
            margin-top: 20px;
        }
        
        .carousel-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 12px;
            margin-top: 12px;
        }
        
        .carousel-item {
            position: relative;
            aspect-ratio: 16/9;
            border-radius: 8px;
            overflow: hidden;
            background: #f0f0f0;
            border: 2px solid #e0e0e0;
        }
        
        .carousel-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .carousel-item-placeholder {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: #999;
            font-size: 12px;
            text-align: center;
        }
        
        .delete-btn {
            position: absolute;
            top: 4px;
            right: 4px;
            background: rgba(255,0,0,0.8);
            color: white;
            border: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* æ“ä½œæŒ‰é’®åŒºåŸŸ */
        .action-buttons {
            display: flex;
            gap: 12px;
            margin-top: 20px;
        }
        
        .action-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .save-btn {
            background: #34c759;
            color: white;
        }
        
        .save-btn:hover {
            background: #30b955;
        }
        
        .preview-btn {
            background: #007aff;
            color: white;
        }
        
        .preview-btn:hover {
            background: #0056cc;
        }
        
        /* çŠ¶æ€æç¤º */
        .status-message {
            padding: 12px;
            border-radius: 8px;
            margin-top: 16px;
            font-size: 14px;
            text-align: center;
        }
        
        .status-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .status-info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media screen and (max-width: 414px) {
            .page-container {
                max-width: 100%;
                box-shadow: none;
            }
            
            .upload-buttons {
                flex-direction: column;
            }
            
            .action-buttons {
                flex-direction: column;
            }
        }
        
        /* è½®æ’­æ–‡å­—ç®¡ç†æ ·å¼ */
        .carousel-text-management {
            border: 2px dashed #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            background: #fafafa;
        }
        
        .text-slides-container {
            margin-bottom: 20px;
        }
        
        .text-slide-editor {
            background: white;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
            border: 1px solid #e0e0e0;
        }
        
        .slide-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin: 0 0 16px 0;
            padding-bottom: 8px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .text-form {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }
        
        .form-group label {
            font-size: 14px;
            font-weight: 500;
            color: #555;
        }
        
        .text-input {
            padding: 10px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }
        
        .text-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.1);
        }
        
        .text-textarea {
            padding: 10px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            min-height: 60px;
            resize: vertical;
            font-family: inherit;
            transition: border-color 0.3s ease;
        }
        
        .text-textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.1);
        }
        
        /* é¢œè‰²é€‰æ‹©å™¨æ ·å¼ */
        .color-selector {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 4px;
        }
        
        .color-option {
            width: 60px;
            height: 40px;
            border-radius: 6px;
            border: 2px solid #ddd;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .color-option:hover {
            border-color: #667eea;
            transform: scale(1.05);
        }
        
        .color-option.selected {
            border-color: #667eea;
            box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.2);
        }
        
        .color-label {
            font-size: 10px;
            font-weight: 500;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
            color: white;
        }
        
        .color-option[data-color="#000000"] .color-label,
        .color-option[data-color="#4a4a4a"] .color-label {
            color: white;
        }
        
        .color-option[data-color="#9e9e9e"] .color-label,
        .color-option[data-color="#f5f5dc"] .color-label,
        .color-option[data-color="#ffffff"] .color-label {
            color: #333;
            text-shadow: none;
        }
        
        .reset-btn {
            background: linear-gradient(135deg, #ffa726 0%, #ff7043 100%);
        }
        
        .reset-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 167, 38, 0.3);
        }
    </style>
</head>
<body>
    <div class="page-container">
        <!-- å¤´éƒ¨å¯¼èˆª -->
        <!-- ç»Ÿä¸€é¡¶éƒ¨å¯¼èˆªæ  -->
        <div id="unified-navbar-container"></div>
        
        <!-- ä¸»è¦å†…å®¹ -->
        <div class="main-content">
            <!-- è½®æ’­å›¾ç®¡ç† -->
            <div class="feature-card">
                <h2 class="card-title">
                    <span class="card-icon">ğŸ </span>
                    è½®æ’­å›¾ç®¡ç†
                </h2>
                <p class="card-description">
                    ç®¡ç†é¦–é¡µè½®æ’­å›¾ç‰‡ï¼Œæ”¯æŒæœ¬åœ°ä¸Šä¼ å’Œæ‰‹æœºç›¸å†Œé€‰æ‹©ã€‚å»ºè®®å›¾ç‰‡å°ºå¯¸ä¸º 16:9ï¼Œæ–‡ä»¶å¤§å°ä¸è¶…è¿‡ 2MBã€‚
                </p>
                
                <div class="carousel-management">
                    <div class="upload-area">
                        <div class="upload-buttons">
                            <button class="upload-btn" onclick="selectFromLocal()">
                                <span>ğŸ“</span>
                                æœ¬åœ°ä¸Šä¼ 
                            </button>
                            <button class="upload-btn" onclick="selectFromCamera()">
                                <span>ğŸ“·</span>
                                æ‹ç…§ä¸Šä¼ 
                            </button>
                            <button class="upload-btn" onclick="selectFromAlbum()">
                                <span>ğŸ–¼ï¸</span>
                                ç›¸å†Œé€‰æ‹©
                            </button>
                        </div>
                        
                        <!-- éšè—çš„æ–‡ä»¶è¾“å…¥ -->
                        <input type="file" id="localFileInput" class="file-input" accept="image/*" multiple onchange="handleFileSelect(event)">
                        <input type="file" id="cameraInput" class="file-input" accept="image/*" capture="environment" onchange="handleFileSelect(event)">
                        <input type="file" id="albumInput" class="file-input" accept="image/*" multiple onchange="handleFileSelect(event)">
                    </div>
                    
                    <!-- å½“å‰è½®æ’­å›¾ç‰‡ -->
                    <div class="current-carousel">
                        <h3 style="margin: 0 0 12px 0; font-size: 16px; color: #333;">å½“å‰è½®æ’­å›¾ç‰‡</h3>
                        <div class="carousel-list" id="carouselList">
                            <div class="carousel-item">
                                <div class="carousel-item-placeholder">è½®æ’­å›¾ 1<br>ç‚¹å‡»ä¸Šä¼ </div>
                            </div>
                            <div class="carousel-item">
                                <div class="carousel-item-placeholder">è½®æ’­å›¾ 2<br>ç‚¹å‡»ä¸Šä¼ </div>
                            </div>
                            <div class="carousel-item">
                                <div class="carousel-item-placeholder">è½®æ’­å›¾ 3<br>ç‚¹å‡»ä¸Šä¼ </div>
                            </div>
                            <div class="carousel-item">
                                <div class="carousel-item-placeholder">è½®æ’­å›¾ 4<br>ç‚¹å‡»ä¸Šä¼ </div>
                            </div>
                            <div class="carousel-item">
                                <div class="carousel-item-placeholder">è½®æ’­å›¾ 5<br>ç‚¹å‡»ä¸Šä¼ </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- æ“ä½œæŒ‰é’® -->
                    <div class="action-buttons">
                        <button class="action-btn save-btn" onclick="saveCarouselImages()">
                            ä¿å­˜æ›´æ”¹
                        </button>
                        <button class="action-btn preview-btn" onclick="previewCarousel()">
                            é¢„è§ˆæ•ˆæœ
                        </button>
                    </div>
                    
                    <!-- çŠ¶æ€æç¤º -->
                    <div id="statusMessage" class="status-message" style="display: none;"></div>
                </div>
            </div>
            
            <!-- è½®æ’­æ–‡å­—ç®¡ç† -->
            <div class="feature-card">
                <h2 class="card-title">
                    <span class="card-icon">ğŸ“</span>
                    è½®æ’­æ–‡å­—ç®¡ç†
                </h2>
                <p class="card-description">
                    ç®¡ç†è½®æ’­é¡µé¢1çš„æ–‡å­—å†…å®¹ï¼ŒåŒ…æ‹¬æ ‡é¢˜ã€æè¿°å’Œæ ‡è¯­ã€‚å…¶ä»–è½®æ’­é¡µé¢å°†æ˜¾ç¤ºå›ºå®šå†…å®¹ã€‚
                </p>
                
                <div class="carousel-text-management">
                    <div class="text-slides-container" id="textSlidesContainer">
                        <!-- è½®æ’­é¡µé¢1 -->
                        <div class="text-slide-editor" data-slide="0">
                            <h4 class="slide-title">è½®æ’­é¡µé¢ 1 - å¯ç¼–è¾‘</h4>
                            <div class="text-form">
                                <div class="form-group">
                                    <label>å“ç‰Œæ ‡é¢˜:</label>
                                    <input type="text" class="text-input" id="title_0" placeholder="ä¾‹å¦‚: PINYU CLUB" value="PINYU CLUB">
                                </div>
                                <div class="form-group">
                                    <label>å‰¯æ ‡é¢˜:</label>
                                    <input type="text" class="text-input" id="subtitle_0" placeholder="ä¾‹å¦‚: é«˜ç«¯ç¤¾äº¤ä¿±ä¹éƒ¨å°ç¨‹åº" value="é«˜ç«¯ç¤¾äº¤ä¿±ä¹éƒ¨å°ç¨‹åº">
                                </div>
                                <div class="form-group">
                                    <label>è¯¦ç»†æè¿°:</label>
                                    <textarea class="text-textarea" id="description_0" placeholder="ä¾‹å¦‚: ä¸“ä¸º25-65å²é«˜å‡€å€¼äººç¾¤æ‰“é€ çš„é«˜è´¨é‡ç¤¾äº¤å¹³å°">ä¸“ä¸º25-65å²é«˜å‡€å€¼äººç¾¤æ‰“é€ çš„é«˜è´¨é‡ç¤¾äº¤å¹³å°</textarea>
                                </div>
                                <div class="form-group">
                                    <label>å“ç‰Œæ ‡è¯­:</label>
                                    <input type="text" class="text-input" id="slogan_0" placeholder="ä¾‹å¦‚: åŒé¢‘ç»ˆç›¸é€¢ï¼Œå…±æŒ¯å³æ°¸æ’" value="åŒé¢‘ç»ˆç›¸é€¢ï¼Œå…±æŒ¯å³æ°¸æ’">
                                </div>
                                <div class="form-group">
                                    <label>å­—ä½“é¢œè‰²:</label>
                                    <div class="color-selector" id="fontColorSelector">
                                        <div class="color-option" data-color="#000000" style="background-color: #000000;" title="é»‘è‰²">
                                            <span class="color-label">é»‘è‰²</span>
                                        </div>
                                        <div class="color-option" data-color="#4a4a4a" style="background-color: #4a4a4a;" title="æ·±ç°è‰²">
                                            <span class="color-label">æ·±ç°</span>
                                        </div>
                                        <div class="color-option" data-color="#9e9e9e" style="background-color: #9e9e9e;" title="æµ…ç°è‰²">
                                            <span class="color-label">æµ…ç°</span>
                                        </div>
                                        <div class="color-option" data-color="#f5f5dc" style="background-color: #f5f5dc;" title="ç±³ç™½è‰²">
                                            <span class="color-label">ç±³ç™½</span>
                                        </div>
                                        <div class="color-option selected" data-color="#ffffff" style="background-color: #ffffff;" title="ç™½è‰²">
                                            <span class="color-label">ç™½è‰²</span>
                                        </div>
                                    </div>
                                    <input type="hidden" id="fontColor_0" value="#ffffff">
                                </div>
                            </div>
                        </div>
                        
                        <!-- å…¶ä»–è½®æ’­é¡µé¢è¯´æ˜ -->
                        <div class="text-slide-editor" style="background: #f8f9fa; border: 2px dashed #dee2e6;">
                            <h4 class="slide-title" style="color: #6c757d;">è½®æ’­é¡µé¢ 2-5 - å›ºå®šå†…å®¹</h4>
                            <p style="color: #6c757d; margin: 10px 0; font-size: 14px;">
                                å…¶ä»–è½®æ’­é¡µé¢å°†æ˜¾ç¤ºé¢„è®¾çš„å›ºå®šå†…å®¹ï¼Œä¸æ”¯æŒç¼–è¾‘ã€‚å¦‚éœ€ä¿®æ”¹ï¼Œè¯·è”ç³»å¼€å‘äººå‘˜ã€‚
                            </p>
                        </div>
                    </div>
                    
                    <!-- æ–‡å­—ç®¡ç†æ“ä½œæŒ‰é’® -->
                    <div class="action-buttons">
                        <button class="action-btn save-btn" onclick="saveCarouselTexts()">
                            ä¿å­˜æ–‡å­—å†…å®¹
                        </button>
                        <button class="action-btn preview-btn" onclick="previewCarouselTexts()">
                            é¢„è§ˆæ–‡å­—æ•ˆæœ
                        </button>
                        <button class="action-btn reset-btn" onclick="resetCarouselTexts()">
                            é‡ç½®ä¸ºé»˜è®¤
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- å…¶ä»–ç®¡ç†åŠŸèƒ½ -->
            <div class="feature-card">
                <h2 class="card-title">
                    <span class="card-icon">ğŸ“Š</span>
                    æ•°æ®ç»Ÿè®¡
                </h2>
                <p class="card-description">
                    æŸ¥çœ‹ç”¨æˆ·æ´»è·ƒåº¦ã€è½®æ’­å›¾ç‚¹å‡»ç‡ç­‰è¿è¥æ•°æ®ã€‚
                </p>
                <button class="action-btn preview-btn" onclick="viewStatistics()">
                    æŸ¥çœ‹ç»Ÿè®¡
                </button>
            </div>
            
            <div class="feature-card">
                <h2 class="card-title">
                    <span class="card-icon">ğŸ‘¥</span>
                    ç”¨æˆ·ç®¡ç†
                </h2>
                <p class="card-description">
                    ç®¡ç†ç”¨æˆ·ä¿¡æ¯ã€å®¡æ ¸ç”¨æˆ·å†…å®¹ã€å¤„ç†ä¸¾æŠ¥ç­‰ã€‚
                </p>
                <button class="action-btn preview-btn" onclick="manageUsers()">
                    ç”¨æˆ·ç®¡ç†
                </button>
            </div>
        </div>
    </div>
    
    <script>
        // è½®æ’­å›¾ç‰‡æ•°æ®
        let carouselImages = [null, null, null, null, null];
        
        // è½®æ’­æ–‡å­—æ•°æ® - åªä¿ç•™è½®æ’­1çš„å¯ç¼–è¾‘æ•°æ®
        let carouselTexts = [
            {
                title: 'PINYU CLUB',
                subtitle: 'é«˜ç«¯ç¤¾äº¤ä¿±ä¹éƒ¨å°ç¨‹åº',
                description: 'ä¸“ä¸º25-65å²é«˜å‡€å€¼äººç¾¤æ‰“é€ çš„é«˜è´¨é‡ç¤¾äº¤å¹³å°',
                slogan: 'åŒé¢‘ç»ˆç›¸é€¢ï¼Œå…±æŒ¯å³æ°¸æ’'
            }
        ];
        
        // è¿”å›é¦–é¡µ
        function goBack() {
            window.location.href = 'home-main-page.html';
        }
        
        // æœ¬åœ°æ–‡ä»¶ä¸Šä¼ 
        function selectFromLocal() {
            document.getElementById('localFileInput').click();
        }
        
        // æ‹ç…§ä¸Šä¼ 
        function selectFromCamera() {
            document.getElementById('cameraInput').click();
        }
        
        // ç›¸å†Œé€‰æ‹©
        function selectFromAlbum() {
            document.getElementById('albumInput').click();
        }
        
        // å¤„ç†æ–‡ä»¶é€‰æ‹©
        function handleFileSelect(event) {
            const files = event.target.files;
            if (files.length === 0) return;
            
            // å¤„ç†å¤šä¸ªæ–‡ä»¶
            for (let i = 0; i < Math.min(files.length, 5); i++) {
                const file = files[i];
                
                // æ£€æŸ¥æ–‡ä»¶ç±»å‹
                if (!file.type.startsWith('image/')) {
                    showStatus('è¯·é€‰æ‹©å›¾ç‰‡æ–‡ä»¶', 'error');
                    continue;
                }
                
                // æ£€æŸ¥æ–‡ä»¶å¤§å° (2MB)
                if (file.size > 2 * 1024 * 1024) {
                    showStatus('å›¾ç‰‡æ–‡ä»¶ä¸èƒ½è¶…è¿‡ 2MB', 'error');
                    continue;
                }
                
                // æ‰¾åˆ°ç¬¬ä¸€ä¸ªç©ºä½ç½®
                const emptyIndex = carouselImages.findIndex(img => img === null);
                if (emptyIndex !== -1) {
                    // è¯»å–æ–‡ä»¶å¹¶æ˜¾ç¤ºé¢„è§ˆ
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        carouselImages[emptyIndex] = {
                            file: file,
                            url: e.target.result,
                            name: file.name
                        };
                        updateCarouselDisplay();
                        showStatus(`å·²æ·»åŠ å›¾ç‰‡: ${file.name}`, 'success');
                    };
                    reader.readAsDataURL(file);
                } else {
                    showStatus('æœ€å¤šåªèƒ½ä¸Šä¼  5 å¼ è½®æ’­å›¾ç‰‡', 'error');
                    break;
                }
            }
            
            // æ¸…ç©ºinputå€¼ï¼Œå…è®¸é‡å¤é€‰æ‹©åŒä¸€æ–‡ä»¶
            event.target.value = '';
        }
        
        // æ›´æ–°è½®æ’­å›¾ç‰‡æ˜¾ç¤º
        function updateCarouselDisplay() {
            const carouselList = document.getElementById('carouselList');
            carouselList.innerHTML = '';
            
            for (let i = 0; i < 5; i++) {
                const item = document.createElement('div');
                item.className = 'carousel-item';
                
                if (carouselImages[i]) {
                    item.innerHTML = `
                        <img src="${carouselImages[i].url}" alt="è½®æ’­å›¾ ${i + 1}">
                        <button class="delete-btn" onclick="removeCarouselImage(${i})">Ã—</button>
                    `;
                } else {
                    item.innerHTML = `
                        <div class="carousel-item-placeholder" onclick="selectImageForSlot(${i})">
                            è½®æ’­å›¾ ${i + 1}<br>ç‚¹å‡»ä¸Šä¼ 
                        `;
                }
                
                carouselList.appendChild(item);
            }
        }
        
        // ä¸ºç‰¹å®šä½ç½®é€‰æ‹©å›¾ç‰‡
        function selectImageForSlot(index) {
            // ä¸´æ—¶å­˜å‚¨ç›®æ ‡ç´¢å¼•
            window.targetSlotIndex = index;
            selectFromLocal();
        }
        
        // åˆ é™¤è½®æ’­å›¾ç‰‡
        function removeCarouselImage(index) {
            carouselImages[index] = null;
            updateCarouselDisplay();
            showStatus(`å·²åˆ é™¤è½®æ’­å›¾ ${index + 1}`, 'info');
        }
        
        // ä¿å­˜è½®æ’­å›¾ç‰‡
        function saveCarouselImages() {
            const validImages = carouselImages.filter(img => img !== null);
            
            if (validImages.length === 0) {
                showStatus('è¯·è‡³å°‘ä¸Šä¼ ä¸€å¼ è½®æ’­å›¾ç‰‡', 'error');
                return;
            }
            
            // æ¨¡æ‹Ÿä¿å­˜è¿‡ç¨‹
            showStatus('æ­£åœ¨ä¿å­˜è½®æ’­å›¾ç‰‡...', 'info');
            
            setTimeout(() => {
                // è¿™é‡Œåº”è¯¥æ˜¯å®é™…çš„ä¸Šä¼ é€»è¾‘
                // å¯ä»¥å‘é€åˆ°æœåŠ¡å™¨æˆ–ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
                localStorage.setItem('carouselImages', JSON.stringify(carouselImages.map(img => img ? img.url : null)));
                showStatus(`æˆåŠŸä¿å­˜ ${validImages.length} å¼ è½®æ’­å›¾ç‰‡`, 'success');
            }, 1500);
        }
        
        // é¢„è§ˆè½®æ’­æ•ˆæœ
        function previewCarousel() {
            // ä¿å­˜å½“å‰å›¾ç‰‡åˆ°æœ¬åœ°å­˜å‚¨
            localStorage.setItem('carouselImages', JSON.stringify(carouselImages.map(img => img ? img.url : null)));
            
            // è·³è½¬åˆ°é¦–é¡µé¢„è§ˆ
            window.location.href = 'home-main-page.html';
        }
        
        // æ˜¾ç¤ºçŠ¶æ€æ¶ˆæ¯
        function showStatus(message, type) {
            const statusElement = document.getElementById('statusMessage');
            statusElement.textContent = message;
            statusElement.className = `status-message status-${type}`;
            statusElement.style.display = 'block';
            
            // 3ç§’åè‡ªåŠ¨éšè—
            setTimeout(() => {
                statusElement.style.display = 'none';
            }, 3000);
        }
        
        // å…¶ä»–åŠŸèƒ½ï¼ˆå ä½ï¼‰
        function viewStatistics() {
            showStatus('æ•°æ®ç»Ÿè®¡åŠŸèƒ½å¼€å‘ä¸­...', 'info');
        }
        
        function manageUsers() {
            showStatus('ç”¨æˆ·ç®¡ç†åŠŸèƒ½å¼€å‘ä¸­...', 'info');
        }
        
        // è½®æ’­æ–‡å­—ç®¡ç†åŠŸèƒ½
        function saveCarouselTexts() {
            // åªæ”¶é›†è½®æ’­1çš„æ–‡å­—è¾“å…¥
            carouselTexts[0] = {
                title: document.getElementById('title_0').value,
                subtitle: document.getElementById('subtitle_0').value,
                description: document.getElementById('description_0').value,
                slogan: document.getElementById('slogan_0').value,
                fontColor: document.getElementById('fontColor_0').value
            };
            
            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            localStorage.setItem('carouselTexts', JSON.stringify(carouselTexts));
            
            showStatus('è½®æ’­1æ–‡å­—å†…å®¹å·²ä¿å­˜ï¼', 'success');
        }
        
        function previewCarouselTexts() {
            // å…ˆä¿å­˜å½“å‰ç¼–è¾‘çš„å†…å®¹
            saveCarouselTexts();
            
            // æ‰“å¼€é¢„è§ˆé¡µé¢
            window.open('home-main-page.html', '_blank');
            showStatus('å·²æ‰“å¼€é¢„è§ˆé¡µé¢ï¼Œè¯·æŸ¥çœ‹è½®æ’­æ–‡å­—æ•ˆæœ', 'info');
        }
        
        function resetCarouselTexts() {
            if (confirm('ç¡®å®šè¦é‡ç½®è½®æ’­1ä¸ºé»˜è®¤æ–‡å­—å†…å®¹å—ï¼Ÿ')) {
                // é‡ç½®ä¸ºé»˜è®¤å€¼
                carouselTexts = [
                    {
                        title: 'PINYU CLUB',
                        subtitle: 'é«˜ç«¯ç¤¾äº¤ä¿±ä¹éƒ¨å°ç¨‹åº',
                        description: 'ä¸“ä¸º25-65å²é«˜å‡€å€¼äººç¾¤æ‰“é€ çš„é«˜è´¨é‡ç¤¾äº¤å¹³å°',
                        slogan: 'åŒé¢‘ç»ˆç›¸é€¢ï¼Œå…±æŒ¯å³æ°¸æ’',
                        fontColor: '#ffffff'
                    }
                ];
                
                // æ›´æ–°è¡¨å•æ˜¾ç¤º
                loadCarouselTexts();
                
                // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
                localStorage.setItem('carouselTexts', JSON.stringify(carouselTexts));
                
                showStatus('å·²é‡ç½®ä¸ºé»˜è®¤æ–‡å­—å†…å®¹', 'success');
            }
        }
        
        function loadCarouselTexts() {
            // ä»æœ¬åœ°å­˜å‚¨åŠ è½½æ–‡å­—å†…å®¹
            const savedTexts = localStorage.getItem('carouselTexts');
            if (savedTexts) {
                try {
                    carouselTexts = JSON.parse(savedTexts);
                } catch (e) {
                    console.error('åŠ è½½è½®æ’­æ–‡å­—å¤±è´¥:', e);
                }
            }
            
            // åªæ›´æ–°è½®æ’­1çš„è¡¨å•æ˜¾ç¤º
            if (carouselTexts[0]) {
                document.getElementById('title_0').value = carouselTexts[0].title || '';
                document.getElementById('subtitle_0').value = carouselTexts[0].subtitle || '';
                document.getElementById('description_0').value = carouselTexts[0].description || '';
                document.getElementById('slogan_0').value = carouselTexts[0].slogan || '';
                
                // æ›´æ–°å­—ä½“é¢œè‰²é€‰æ‹©å™¨
                const fontColor = carouselTexts[0].fontColor || '#ffffff';
                document.getElementById('fontColor_0').value = fontColor;
                updateColorSelector(fontColor);
            }
        }
        
        // é¢œè‰²é€‰æ‹©å™¨äº¤äº’åŠŸèƒ½
        function updateColorSelector(selectedColor) {
            const colorOptions = document.querySelectorAll('.color-option');
            colorOptions.forEach(option => {
                option.classList.remove('selected');
                if (option.getAttribute('data-color') === selectedColor) {
                    option.classList.add('selected');
                }
            });
        }
        
        function initColorSelector() {
            const colorOptions = document.querySelectorAll('.color-option');
            colorOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const selectedColor = this.getAttribute('data-color');
                    document.getElementById('fontColor_0').value = selectedColor;
                    updateColorSelector(selectedColor);
                });
            });
        }
        
        // åŠ è½½ç»Ÿä¸€å¯¼èˆªæ 
        function loadUnifiedNavbar() {
            fetch('components/unified-navbar.html')
                .then(response => response.text())
                .then(html => {
                    const container = document.getElementById('unified-navbar-container');
                    if (container) container.innerHTML = html;
                })
                .catch(error => { console.error('åŠ è½½ç»Ÿä¸€å¯¼èˆªæ å¤±è´¥:', error); });
        }
        
        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            loadUnifiedNavbar();
            // ä»æœ¬åœ°å­˜å‚¨åŠ è½½å·²ä¿å­˜çš„è½®æ’­å›¾ç‰‡
            const savedImages = localStorage.getItem('carouselImages');
            if (savedImages) {
                try {
                    const imageUrls = JSON.parse(savedImages);
                    for (let i = 0; i < imageUrls.length; i++) {
                        if (imageUrls[i]) {
                            carouselImages[i] = {
                                url: imageUrls[i],
                                name: `è½®æ’­å›¾ ${i + 1}`,
                                file: null // å·²ä¿å­˜çš„å›¾ç‰‡æ²¡æœ‰åŸå§‹æ–‡ä»¶å¯¹è±¡
                            };
                        }
                    }
                    updateCarouselDisplay();
                } catch (e) {
                    console.error('åŠ è½½è½®æ’­å›¾ç‰‡å¤±è´¥:', e);
                }
            } else {
                updateCarouselDisplay();
            }
            
            // åŠ è½½è½®æ’­æ–‡å­—å†…å®¹
            loadCarouselTexts();
            
            // åˆå§‹åŒ–é¢œè‰²é€‰æ‹©å™¨
            initColorSelector();
        });
    </script>
    
    <!-- ç»Ÿä¸€å¯¼èˆªæ å®¹å™¨ -->
    <div id="unified-navbar-container"></div>
    
    <!-- åŠ è½½ç»Ÿä¸€å¯¼èˆªæ  -->
    <script src="components/navbar-loader.js"></script>
</body>
</html>