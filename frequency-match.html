<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>frequency-match - 品遇小程序预览</title>
    <link rel="stylesheet" href="app.css">
    <link rel="stylesheet" href="frequency-match.css">
    <style>
        /* 移动端适配 */
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 75%, #f5576c 100%);
        }
        
        /* 容器样式 */
        .page-container {
            max-width: 375px;
            margin: 0 auto;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 75%, #f5576c 100%);
            min-height: 100vh;
            position: relative;
        }
        
        /* 调试信息 */
        .debug-info {
            position: fixed;
            top: 70px;
            right: 10px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 12px;
            z-index: 9999;
        }
    </style>
</head>
<body>
    <div class="debug-info">
        📱 frequency-match 页面预览 | 🔄 同步时间: 2025/10/18 21:36:02
    </div>
    
    <div class="page-container">
        <!-- 统一顶部导航栏 -->
        <div id="unified-navbar-container"></div>
        
        <div class="frequency-match-page custom-component div" data-component="div"><div class="member-list custom-component div" data-scroll-y="true" bindscrolltolower="onReachBottom" refresher-enabled="true" bindrefresherrefresh="onPullDownRefresh" data-component="div"><div class="member-cards custom-component div" data-component="div"><div class="custom-component div" wx:for="<span data-expression="members" data-component="div">members</div>" data-wx-key="id" class="member-card" onclick="onMemberTap" data-id="<div class="custom-component span" data-expression="item.id" data-component="span">item.id</div>" ><div class="member-header custom-component div" data-component="div"><div class="member-avatar custom-component img" src="<span data-expression="item.avatarUrl" data-component="img">item.avatarUrl</div>" style="object-fit: cover" /><div class="online-indicator custom-component div" wx:if="<span data-expression="item.isOnline" data-component="div">item.isOnline</div>"></div></div><div class="member-info custom-component div" data-component="div"><div class="member-name-age custom-component div" data-component="div"><div class="member-name custom-component span" data-component="span"><div class="custom-component span" data-expression="item.name" data-component="span">item.name</div></div><div class="member-age custom-component span" data-component="span"><div class="custom-component span" data-expression="item.age" data-component="span">item.age</div>岁</div></div><div class="member-location custom-component div" data-component="div"><div class="location-icon custom-component span" data-component="span">📍</div><div class="location-text custom-component span" data-component="span"><div class="custom-component span" data-expression="item.location" data-component="span">item.location</div> · <div class="custom-component span" data-expression="item.distance" data-component="span">item.distance</div>km</div></div><div class="member-bio custom-component div" data-component="div"><div class="custom-component span" data-expression="item.bio" data-component="span">item.bio</div></div><div class="interests custom-component div" data-component="div"><div class="custom-component span" wx:for="<span data-expression="item.interests" data-component="span">item.interests</div>" data-wx-key="*this" class="interest-tag" ><div class="custom-component span" data-expression="item" data-component="span">item</div></div></div><div class="match-score custom-component div" data-component="div"><div class="score-label custom-component span" data-component="span">匹配度</div><div class="score-bar custom-component div" data-component="div"><div class="score-fill custom-component div" style="width: <span data-expression="item.matchScore" data-component="div">item.matchScore</div>%"></div></div><div class="score-text custom-component span" data-component="span"><div class="custom-component span" data-expression="item.matchScore" data-component="span">item.matchScore</div>%</div></div></div><div class="member-actions custom-component div" data-component="div"><div class="action-btn skip-btn custom-component div" catchtap="onSkip" data-id="<span data-expression="item.id" data-component="div">item.id</div>" ><div class="action-icon custom-component span" data-component="span">✕</div></div><div class="action-btn like-btn <span data-expression= custom-component div"item.isLiked ? 'liked' : ''" data-component="div">item.isLiked ? 'liked' : ''</div>" catchtap="onLike" data-id="<div class="custom-component span" data-expression="item.id" data-component="span">item.id</div>" ><div class="action-icon custom-component span" data-component="span"><div class="custom-component span" data-expression="item.isLiked ? '💖' : '💗'" data-component="span">item.isLiked ? '💖' : '💗'</div></div></div></div></div></div><div class="loading-container custom-component div" wx:if="<span data-expression="loading" data-component="div">loading</div>"><div class="loading-spinner custom-component div" data-component="div"></div><div class="loading-text custom-component span" data-component="span">加载中...</div></div><div class="no-more custom-component div" wx:if="<span data-expression="!hasMore && members.length data-component="div"> 0">!hasMore && members.length > 0</div>"><div class="custom-component span" data-component="span">没有更多会员了</div></div><div class="empty-state custom-component div" data-wx-if="members.length === 0 && !loading" style="display: none;" data-bind-if="members.length === 0 && !loading" data-component="div"><div class="empty-icon custom-component img" src="/assets/images/empty-match.svg" / data-component="img"><div class="empty-title custom-component span" data-component="span">暂无推荐</div><div class="empty-subtitle custom-component span" data-component="span">完善你的资料，获得更多匹配机会</div><div class="empty-btn custom-component button" onclick="goToProfile" data-component="button">完善资料</div></div></div><div class="custom-component bottom-navbar" current-tab="meet" bind:navchange="onNavChange" / data-component="bottom-navbar"></div>
    </div>

    <script>
        // 加载统一导航栏
        async function loadUnifiedNavbar() {
            try {
                const response = await fetch('components/unified-navbar.html');
                const html = await response.text();
                document.getElementById('unified-navbar-container').innerHTML = html;
            } catch (error) {
                console.error('加载统一导航栏失败:', error);
            }
        }
        
        // API桥接层
        const wx = {
            navigateTo: (options) => {
                console.log('wx.navigateTo:', options);
                alert('导航到: ' + options.url);
            },
            showToast: (options) => {
                console.log('wx.showToast:', options);
                alert(options.title);
            },
            request: (options) => {
                console.log('wx.request:', options);
                // 模拟网络请求
                setTimeout(() => {
                    if (options.success) {
                        options.success({ data: { message: '模拟数据' } });
                    }
                }, 1000);
            }
        };
        
        // 页面数据模拟
        const pageData = {
            'frequency-match': {
                // 这里可以添加页面特定的模拟数据
            }
        };
        
        // 统一导航栏已通过navbar-loader.js自动加载
        
        console.log('🚀 页面加载完成:', 'frequency-match');
        console.log('📊 页面数据:', pageData);
    </script>
    
    <!-- 加载统一导航栏 -->
    <script src="components/navbar-loader.js"></script>
</body>
</html>